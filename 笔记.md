###高阶组件
   https://juejin.im/post/5c972f985188252d7f2a3eb0#heading-6
   高阶组件就是一个函数，且该函数接受一个组件作为参数，并返回一个新的组件
   目的: 能让其他组件复用相同的逻辑
   两个函数： 第一个函数调用返回值是函数 --> 高阶组件   调用第二个函数（高阶组件）---> 新的组件

###使用装饰器
 装饰器：@function --> 会调用当前function函数，将装饰器下面的内容作为参数传入，并且将返回值覆盖掉下面的内容
 之前暴露的方式： withHoc(Login) 现在直接Login.
*目的: 简化使用高阶组件
*下载包: npm i react-app-rewired customize-cra @babel/plugin-proposal-decorators -D
*在项目根目录配置 config-overrides.jsconst { override, addBabelPlugins } = require('customize-cra');
*修改 create-react-app 的 webpack 的配置
    module.exports = override(
      // 添加 babel 插件
      addBabelPlugins(
        [
          "@babel/plugin-proposal-decorators",
          {
            "legacy": true
          }
        ]
      )
    )
*修改 package.json 的 scripts// 将 react-scripts 修改为 react-app-rewired
    "scripts": {
      "start": "react-app-rewired start",
      "build": "react-app-rewired build",
      "test": "react-app-rewired test"
    },

以上就是使用 decorator 的配置，修改完后就能使用了~
*使用: 
    *修改 Login 组件@withHoc('登陆')
        class Login extends Component {
          ...省略重复代码...
        }
        export default Login;
    *修改 Register 组件@withHoc('注册')
        class Register extends Component {
          ...省略重复代码...
        }
        export default Register;
    react-app-rewired customize-cra 是 create-react-app 2.0以上专门用来修改 webpack 的配置
###表单校验规则
 *装饰器 表单校验规则:
    1.组件内部使用:   const { getFieldDecorator } = this.props.form;
        {getFieldDecorator('userName', {
            //装饰器 表单校验
                rules: [
                    { required: true, whitespace: true, message: '必须输入用户名!' },
                    {min: 4, message: '用户名必须大于4位'},
                    {max: 12, message: '用户名必须小于12位'},
                    {pattern: /^[a-zA-Z0-9_]+$/, message: '用户名必须是英文、数组或下划线组成'}
                ]
            })(
                 <Input prefix={<Icon type="user" style={{ fontSize: 13 }} />} placeholder="用户名" />
            )}
 *自定义表单校验规则:
    必需调用callback, callback如果不传参代表校验成功，如果传参代表校验失败，并且会提示错误
    1.组件内定义: validator = (rule,value,callback)=>{
              console.log(rule,value);
              const length = value && value.length;
              const pwdReg = /^[a-zA-Z0-9_]+$/;
              if(!value){
                  // 必需调用callback, callback如果不传参代表校验成功，如果传参代表校验失败，并且会提示错误
                  callback('密码不能为空!');
              }else if(length < 4 || length > 12){
                  callback('密码必需大于4位,小于12位!');
              }else if(!pwdReg.test(value)){
                  callback('密码必须是英文、数组或下划线组成~!');
              }else{
                  callback();
              }
          }
    2.表单内部使用:
        {getFieldDecorator('password', {
           rules: [
                //自定义表单校验
                {validator: this.validator}
           ]
       })(
           <Input prefix={<Icon type="lock" style={{fontSize: 13}}/>} type="password" placeholder="密码" />
        )
       }

###服务器代理模式
     服务器代理模式：
        1. 作用：解决开发环境下的跨域问题。生产环境不能使用
        2. 配置：
          在package.json中添加 "proxy": "目标服务器地址"
        3. 工作原理
          原因：客户端和服务端有跨域问题，而服务端和服务端之间是没有跨域问题的
          解决：
            让开发（代理）服务器运行当前项目。项目和开发服务器就不会有跨域问题（遵循了同源策略）
            在让开发（代理）服务器去访问目标服务器，（服务端和服务端之间是没有跨域问题的），
            所以开发（代理）服务器将请求目标服务器的资源返回当前页面
       
       什么时候需要重启服务器：
        修改了webpack配置就需要重启，才能生效

